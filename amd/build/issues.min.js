define("local_edusupport/issues",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/*
   * @package    local_edusupport
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.toggleCheckbox=_exports.setVisibility=_exports.setStatus=_exports.init=_exports.getChecked=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};var alltr=Array.from(document.querySelectorAll("tr.issue")),checked={};_exports.init=()=>{var allCheckboxes=document.querySelectorAll("#issuefilter input[type=checkbox]");getChecked("statefilter"),Array.prototype.forEach.call(allCheckboxes,(function(el){el.addEventListener("change",toggleCheckbox)})),document.querySelectorAll(".changeStatusSelect").forEach((function(status){status.addEventListener("change",(function(){setStatus(status.value,status.dataset.issueid)}))}))};const setStatus=(status,issueid)=>{_ajax.default.call([{methodname:"local_edusupport_set_status",args:{status:status,issueid:issueid},done:function(data){location.reload()},fail:function(ex){console.log("ex:"+ex)}}])};_exports.setStatus=setStatus;const toggleCheckbox=e=>{getChecked(e.target.name),setVisibility()};_exports.toggleCheckbox=toggleCheckbox;const getChecked=name=>{checked[name]=Array.from(document.querySelectorAll("input[name="+name+"]:checked")).map((function(el){return el.value}))};_exports.getChecked=getChecked;const setVisibility=()=>{alltr.map((function(el){var statefilter=!checked.statefilter.length||Array.from(el.classList).filter((value=>checked.statefilter.includes(value))).length;el.style.display=statefilter?"table-row":"none"}))};_exports.setVisibility=setVisibility}));

//# sourceMappingURL=issues.min.js.map